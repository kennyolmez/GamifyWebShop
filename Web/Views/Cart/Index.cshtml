@using Web.ViewModels.CartViewModels
@*
*@
@{
}

@model IndexViewModel

<form asp-action="UpdateCart" asp-controller="Cart" method="post">
    @if (Model.UserCart.CartItems is not null && Model.UserCart.CartItems.Count() > 0)
    {
        @for(int i = 0; i < Model.UserCart.CartItems.Count(); i++)
        {
            <p><b>@Model.UserCart.CartItems[i].ProductName</b></p>
            <p>@Model.UserCart.CartItems[i].ProductBrand</p> 
            <p>Quantity: @Model.UserCart.CartItems[i].Quantity</p>
            <input type="hidden" name="@("productAndQuantity[" + i +"].Key")" value="@Model.UserCart.CartItems[i].Id" />
            <input type="number" name="@("productAndQuantity[" + i +"].Value")" value="@Model.UserCart.CartItems[i].Quantity" />
        }
    }
    else
    {
        <p>There are no products in the shopping cart yet!</p>
    }
    <button type="submit" class="btn btn-info">Update Cart</button>
</form>

<p>Total: @Model.TotalPrice()</p>


<a asp-controller="Catalog"
   asp-action="Index">Return to Home</a>

<a asp-controller="Order"
   asp-action="CreateOrder">Go to Checkout</a>
